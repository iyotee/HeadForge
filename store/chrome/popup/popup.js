(()=>{"use strict";var e,t={139:(e,t,a)=>{a.d(t,{LP:()=>o,UU:()=>s,VZ:()=>i,d5:()=>n});const n={USER_PREFERENCES:"headforge_user_preferences",LAST_HEADER_DATA:"headforge_last_header_data",TEMPLATE_CUSTOMIZATIONS:"headforge_template_customizations",EXPORT_HISTORY:"headforge_export_history",THEME_SETTINGS:"headforge_theme_settings"},o={AUTHOR:"Satoshiba",PROJECT:"SYNCLY - YouTube PVR Extension",VERSION:"1.0.0",LICENSE:"MIT",STATUS:"Development",PLATFORM:["Chrome","Firefox","Edge","Brave"],LANGUAGE:"javascript",THEME:"light",EXPORT_FORMAT:"clipboard"},i={MAX_FILENAME_LENGTH:255,MAX_DESCRIPTION_LENGTH:1e3,MAX_USAGE_LENGTH:2e3,MAX_NOTES_LENGTH:1e3,MAX_TODO_LENGTH:1e3,MAX_DEPENDENCIES_LENGTH:500},s={GENERIC_ERROR:"An unexpected error occurred",VALIDATION_ERROR:"Please check your input and try again",EXPORT_ERROR:"Failed to export header",SAVE_ERROR:"Failed to save preferences",LOAD_ERROR:"Failed to load preferences",NETWORK_ERROR:"Network error occurred",PERMISSION_ERROR:"Permission denied",STORAGE_ERROR:"Storage error occurred"};"undefined"!=typeof window&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches},149:(e,t,a)=>{var n=a(156),o=a(377);const i={getCurrentDate:function(){return s(new Date)},formatDate:s,formatDateTime:r,parseDate:c,isValidDateString:function(e){return null!==c(e)},getRelativeDate:function(e){const t=(new Date).getTime()-e.getTime(),a=Math.floor(t/864e5);if(0===a)return"Today";if(1===a)return"Yesterday";if(a<7)return`${a} days ago`;if(a<30){const e=Math.floor(a/7);return`${e} week${e>1?"s":""} ago`}if(a<365){const e=Math.floor(a/30);return`${e} month${e>1?"s":""} ago`}{const e=Math.floor(a/365);return`${e} year${e>1?"s":""} ago`}},addDays:l,subtractDays:function(e,t){const a=new Date(e);return a.setDate(a.getDate()-t),a},isDateInRange:function(e,t,a){return e>=t&&e<=a},getDateDifference:function(e,t){return Math.abs(e.getTime()-t.getTime())}};function s(e){return`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}`}function r(e){return`${s(e)} ${String(e.getHours()).padStart(2,"0")}:${String(e.getMinutes()).padStart(2,"0")}:${String(e.getSeconds()).padStart(2,"0")}`}function c(e){const t=new Date(e);return isNaN(t.getTime())?null:t}function l(e,t){const a=new Date(e);return a.setDate(a.getDate()+t),a}var d=a(371);async function h(e){try{if("undefined"!=typeof chrome&&chrome.runtime&&chrome.runtime.id)return void await u(e);if(navigator.clipboard&&window.isSecureContext)try{return void await navigator.clipboard.writeText(e)}catch(e){}await u(e)}catch(e){throw new Error(`Failed to copy to clipboard: ${e instanceof Error?e.message:String(e)}`)}}async function u(e){return new Promise((t,a)=>{const n=document.createElement("textarea");n.value=e,n.style.position="fixed",n.style.left="-999999px",n.style.top="-999999px",n.style.opacity="0",n.style.pointerEvents="none",n.style.zIndex="-1000",n.setAttribute("readonly",""),document.body.appendChild(n);try{n.focus(),n.select(),n.setSelectionRange(0,e.length);document.execCommand("copy")?t():a(new Error("execCommand copy failed"))}catch(e){a(new Error(`Copy failed: ${e instanceof Error?e.message:String(e)}`))}finally{document.body.contains(n)&&document.body.removeChild(n)}})}const m={copyToClipboard:h,readFromClipboard:async function(){try{if(navigator.clipboard&&window.isSecureContext){return await navigator.clipboard.readText()}throw new Error("Clipboard API not available")}catch(e){throw new Error("Failed to read from clipboard")}},copyImageToClipboard:async function(e){try{if(!navigator.clipboard||!window.isSecureContext)throw new Error("Clipboard API not available for images");{const t=new ClipboardItem({[e.type]:e});await navigator.clipboard.write([t])}}catch(e){throw new Error("Failed to copy image to clipboard")}},isClipboardSupported:p,isClipboardReadSupported:g,isClipboardWriteSupported:f};function p(){return!(!navigator.clipboard||!window.isSecureContext)}function g(){return!(!navigator.clipboard||"function"!=typeof navigator.clipboard.readText||!window.isSecureContext)}function f(){return!(!navigator.clipboard||"function"!=typeof navigator.clipboard.writeText||!window.isSecureContext)}const v={saveFile:function(e,t){try{const a=new Blob([e],{type:"text/plain;charset=utf-8"}),n=URL.createObjectURL(a),o=document.createElement("a");o.href=n,o.download=t,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(n)}catch(e){throw new Error("Failed to save file")}},saveFileAsBlob:y,readFile:function(e){return new Promise((t,a)=>{const n=new FileReader;n.onload=e=>{const n=e.target?.result;"string"==typeof n?t(n):a(new Error("Failed to read file as text"))},n.onerror=()=>{a(new Error("Failed to read file"))},n.readAsText(e)})},getFileExtension:w,isValidFileName:function(e){if(/[<>:"/\\|?*]/.test(e))return!1;const t=E(e).toUpperCase();if(["CON","PRN","AUX","NUL","COM1","COM2","COM3","COM4","COM5","COM6","COM7","COM8","COM9","LPT1","LPT2","LPT3","LPT4","LPT5","LPT6","LPT7","LPT8","LPT9"].includes(t))return!1;if(e.length>255)return!1;return!0},sanitizeFileName:function(e){let t=e.replace(/[<>:"/\\|?*]/g,"");if(t=t.replace(/^[\s.]+|[\s.]+$/g,""),t=t.replace(/\s+/g," "),t.length>255){const a=w(e),n=E(t),o=255-a.length-1;t=n.substring(0,o)+"."+a}return t},createBlob:function(e,t="text/plain"){return new Blob([e],{type:t})},downloadBlob:function(e,t){const a=URL.createObjectURL(e),n=document.createElement("a");n.href=a,n.download=t,document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(a)},getFileSize:function(e){const t=["B","KB","MB","GB","TB"];let a=e,n=0;for(;a>=1024&&n<t.length-1;)a/=1024,n++;return`${a.toFixed(1)} ${t[n]}`},formatFileSize:function(e){if(0===e)return"0 Bytes";const t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["Bytes","KB","MB","GB","TB"][t]}};function y(e,t){try{const a=URL.createObjectURL(e),n=document.createElement("a");n.href=a,n.download=t,document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(a)}catch(e){throw new Error("Failed to save file")}}function w(e){const t=e.lastIndexOf(".");return-1!==t?e.substring(t+1).toLowerCase():""}function E(e){const t=e.lastIndexOf(".");return-1!==t?e.substring(0,t):e}const b=new class{constructor(e){this.lastCheck=0,this.updateInfo=null,this.config=e}async checkForUpdates(){try{const e=await fetch(`https://api.github.com/repos/${this.config.githubRepo}/releases/latest`);if(!e.ok)throw new Error(`GitHub API error: ${e.status}`);const t=await e.json(),a=t.tag_name.replace("v",""),n=this.isVersionNewer(a,this.config.currentVersion);return this.updateInfo={version:a,releaseDate:t.published_at,downloadUrl:t.html_url,changelog:t.body||"No changelog available",isNewer:n},this.lastCheck=Date.now(),this.updateInfo}catch(e){return null}}shouldCheckForUpdates(){return Date.now()-this.lastCheck>this.config.checkInterval}getUpdateInfo(){return this.updateInfo}isVersionNewer(e,t){const a=e.split(".").map(Number),n=t.split(".").map(Number);for(let e=0;e<Math.max(a.length,n.length);e++){const t=a[e]||0,o=n[e]||0;if(t>o)return!0;if(t<o)return!1}return!1}getUpdateStatus(){return{hasUpdate:this.updateInfo?.isNewer||!1,currentVersion:this.config.currentVersion,latestVersion:this.updateInfo?.version||null,lastCheck:this.lastCheck?new Date(this.lastCheck):null}}}({checkInterval:864e5,githubRepo:"satoshiba/headforge",currentVersion:"1.0.0"});class T{constructor(e){this.updateButton=null,this.updateNotification=null,this.container=e,this.initialize()}initialize(){this.createUpdateButton(),this.bindEvents(),this.checkForUpdatesOnLoad()}createUpdateButton(){this.updateButton=document.createElement("button"),this.updateButton.className="update-checker-btn",this.updateButton.innerHTML='\n      <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">\n        <path d="M21 12c0 1.66-4 3-9 3s-9-1.34-9-3 4-3 9-3 9 1.34 9 3z"/>\n        <path d="M3 5v14c0 1.66 4 3 9 3s9-1.34 9-3V5"/>\n        <path d="M12 1v6"/>\n        <path d="M9 4l3-3 3 3"/>\n      </svg>\n    ',this.updateButton.title="Check for updates",this.updateButton.style.cssText="\n      position: fixed;\n      bottom: 8px;\n      right: 8px;\n      width: 24px;\n      height: 24px;\n      border: none;\n      background: rgba(0, 0, 0, 0.1);\n      border-radius: 50%;\n      cursor: pointer;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      transition: all 0.2s ease;\n      z-index: 1000;\n      opacity: 0.6;\n    ",this.updateButton.addEventListener("mouseenter",()=>{this.updateButton&&(this.updateButton.style.opacity="1",this.updateButton.style.background="rgba(0, 0, 0, 0.2)",this.updateButton.style.transform="scale(1.1)")}),this.updateButton.addEventListener("mouseleave",()=>{this.updateButton&&(this.updateButton.style.opacity="0.6",this.updateButton.style.background="rgba(0, 0, 0, 0.1)",this.updateButton.style.transform="scale(1)")}),this.container.appendChild(this.updateButton)}bindEvents(){this.updateButton&&this.updateButton.addEventListener("click",()=>{this.checkForUpdates()})}async checkForUpdatesOnLoad(){if(b.shouldCheckForUpdates())await this.checkForUpdates(!0);else{const e=b.getUpdateInfo();e?.isNewer&&this.showUpdateAvailable(e)}}async checkForUpdates(e=!1){if(this.updateButton){this.updateButton.innerHTML='\n      <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">\n        <path d="M21 12a9 9 0 11-6.219-8.56"/>\n      </svg>\n    ',this.updateButton.style.animation="spin 1s linear infinite";try{const t=await b.checkForUpdates();t?.isNewer?(this.showUpdateAvailable(t),e||this.showNotification("Update available!","success")):e||this.showNotification("You are up to date!","info")}catch(t){e||this.showNotification("Failed to check for updates","error")}finally{this.updateButton&&(this.updateButton.innerHTML='\n          <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">\n            <path d="M21 12c0 1.66-4 3-9 3s-9-1.34-9-3 4-3 9-3 9 1.34 9 3z"/>\n            <path d="M3 5v14c0 1.66 4 3 9 3s9-1.34 9-3V5"/>\n            <path d="M12 1v6"/>\n            <path d="M9 4l3-3 3 3"/>\n          </svg>\n        ',this.updateButton.style.animation="")}}}showUpdateAvailable(e){this.updateButton&&(this.updateButton.innerHTML='\n      <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">\n        <circle cx="12" cy="12" r="10"/>\n        <path d="M12 6v6l4 2"/>\n        <path d="M16 4l4 4-4 4"/>\n      </svg>\n    ',this.updateButton.style.background="rgba(34, 197, 94, 0.2)",this.updateButton.style.color="#22c55e",this.updateButton.title=`Update available: v${e.version}`,this.updateButton.onclick=()=>{chrome.tabs.create({url:e.downloadUrl})})}showNotification(e,t){switch(this.updateNotification&&this.updateNotification.remove(),this.updateNotification=document.createElement("div"),this.updateNotification.className=`update-notification update-notification-${t}`,this.updateNotification.textContent=e,this.updateNotification.style.cssText="\n      position: fixed;\n      top: 20px;\n      right: 20px;\n      padding: 12px 16px;\n      border-radius: 8px;\n      color: white;\n      font-size: 14px;\n      font-weight: 500;\n      z-index: 1001;\n      opacity: 0;\n      transform: translateX(100%);\n      transition: all 0.3s ease;\n      max-width: 300px;\n      word-wrap: break-word;\n    ",t){case"success":this.updateNotification.style.background="#22c55e";break;case"error":this.updateNotification.style.background="#ef4444";break;case"info":this.updateNotification.style.background="#3b82f6"}document.body.appendChild(this.updateNotification),setTimeout(()=>{this.updateNotification&&(this.updateNotification.style.opacity="1",this.updateNotification.style.transform="translateX(0)")},100),setTimeout(()=>{this.updateNotification&&(this.updateNotification.style.opacity="0",this.updateNotification.style.transform="translateX(100%)",setTimeout(()=>{this.updateNotification&&(this.updateNotification.remove(),this.updateNotification=null)},300))},3e3)}destroy(){this.updateButton&&(this.updateButton.remove(),this.updateButton=null),this.updateNotification&&(this.updateNotification.remove(),this.updateNotification=null)}}const L=document.createElement("style");L.textContent="\n  @keyframes spin {\n    from { transform: rotate(0deg); }\n    to { transform: rotate(360deg); }\n  }\n  \n  .update-checker-btn:hover {\n    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);\n  }\n",document.head.appendChild(L);var B=a(139);class D{constructor(){this.currentLanguage=null,this.userPreferences=this.getDefaultPreferences(),this.isCopying=!1,this.isDownloading=!1,this.updateChecker=null,this.devModeClicks=0,this.isDevMode=!1,this.autoDeactivateTimer=null,this.autoDeactivateDuration=18e4,this.isAutoDeactivateActive=!1,this.countdownInterval=null,this.initializeElements(),this.setupEventListeners(),this.loadUserPreferences(),this.populateLanguageOptions(),this.setupTheme(),this.loadLastFormData(),this.initializeUpdateChecker(),this.updatePreview()}initializeElements(){this.form=document.getElementById("header-form"),this.themeToggle=document.getElementById("theme-toggle"),this.settingsBtn=document.getElementById("settings-btn"),this.randomButton=document.getElementById("random-data"),this.headerContainer=document.getElementById("header-container"),this.generateBtn=document.getElementById("generate-header"),this.clearBtn=document.getElementById("clear-form"),this.copyBtn=document.getElementById("copy-clipboard"),this.downloadBtn=document.getElementById("download-file"),this.loadingOverlay=document.getElementById("loading-overlay"),this.toastContainer=document.getElementById("toast-container"),this.headerBanner=document.getElementById("header-banner"),this.timerDisplay=document.getElementById("auto-deactivate-timer"),this.timerText=this.timerDisplay?.querySelector(".timer-text"),this.timerCloseBtn=document.getElementById("close-dev-mode"),this.optionsModal=document.getElementById("options-modal"),this.optionsModalOverlay=this.optionsModal?.querySelector(".options-modal-overlay"),this.closeOptionsModalBtn=document.getElementById("close-options-modal"),this.cancelOptionsBtn=document.getElementById("cancel-options"),this.saveOptionsBtn=document.getElementById("save-options"),this.optionsNavBtns=document.querySelectorAll(".options-modal-nav-btn"),this.optionsTabs=document.querySelectorAll(".options-modal-tab"),this.importFileInput=document.getElementById("import-file")}setupEventListeners(){this.form.addEventListener("input",this.debounce(()=>{this.updatePreview(),this.saveFormData(),this.resetAutoDeactivateTimer()},300)),this.form.addEventListener("change",()=>{this.updatePreview(),this.saveFormData(),this.resetAutoDeactivateTimer()});const e=document.getElementById("language");e&&e.addEventListener("change",e=>{const t=e.target;this.currentLanguage=(0,n.getLanguageById)(t.value)??null,this.updatePreview(),this.resetAutoDeactivateTimer()});const t=document.getElementById("creationDate"),a=document.getElementById("lastUpdated");t&&!t.value&&(t.value=i.getCurrentDate()),a&&!a.value&&(a.value=i.getCurrentDate()),this.generateBtn&&this.generateBtn.addEventListener("click",()=>{this.generateHeader(),this.resetAutoDeactivateTimer()}),this.clearBtn&&this.clearBtn.addEventListener("click",()=>{this.clearForm(),this.resetAutoDeactivateTimer()}),this.copyBtn&&this.copyBtn.addEventListener("click",()=>{this.copyToClipboard(),this.resetAutoDeactivateTimer()}),this.downloadBtn&&this.downloadBtn.addEventListener("click",()=>{this.downloadFile(),this.resetAutoDeactivateTimer()}),this.themeToggle&&this.themeToggle.addEventListener("click",()=>{this.toggleTheme(),this.resetAutoDeactivateTimer()}),this.settingsBtn&&this.settingsBtn.addEventListener("click",()=>{this.openSettings(),this.resetAutoDeactivateTimer()});const o=document.getElementById("status-text");o&&o.addEventListener("click",()=>{this.handleDevModeClick()}),this.randomButton&&this.randomButton.addEventListener("click",()=>this.generateRandomData()),this.timerCloseBtn&&this.timerCloseBtn.addEventListener("click",()=>{this.deactivateDevMode()}),this.closeOptionsModalBtn&&this.closeOptionsModalBtn.addEventListener("click",()=>this.closeOptionsModal()),this.optionsModalOverlay&&this.optionsModalOverlay.addEventListener("click",()=>this.closeOptionsModal()),this.cancelOptionsBtn&&this.cancelOptionsBtn.addEventListener("click",()=>this.closeOptionsModal()),this.saveOptionsBtn&&this.saveOptionsBtn.addEventListener("click",()=>this.saveOptions()),this.optionsNavBtns.forEach(e=>{e.addEventListener("click",()=>{const t=e.dataset.tab;t&&this.switchOptionsTab(t)})});const s=document.getElementById("export-settings"),r=document.getElementById("import-settings"),c=document.getElementById("reset-settings");s&&s.addEventListener("click",()=>this.exportSettings()),r&&r.addEventListener("click",()=>this.importSettings()),c&&c.addEventListener("click",()=>this.resetSettings()),this.importFileInput&&this.importFileInput.addEventListener("change",e=>this.handleImportFile(e)),document.addEventListener("keydown",e=>this.handleKeyboardShortcuts(e))}populateLanguageOptions(){const e=document.getElementById("language"),t=Object.values(n.languageConfigs);[...new Set(t.map(e=>e.category))].forEach(a=>{const n=document.createElement("optgroup");n.label=this.capitalizeFirst(a);t.filter(e=>e.category===a).forEach(e=>{const t=document.createElement("option");t.value=e.id,t.textContent=e.name,n.appendChild(t)}),e.appendChild(n)}),this.userPreferences.defaultLanguage?(e.value=this.userPreferences.defaultLanguage,this.currentLanguage=(0,n.getLanguageById)(this.userPreferences.defaultLanguage)??null):(e.value=B.LP.LANGUAGE,this.currentLanguage=(0,n.getLanguageById)(B.LP.LANGUAGE)??null)}setupTheme(){const e=document.body;e.classList.remove("dark-mode"),"dark"===this.userPreferences.theme&&e.classList.add("dark-mode"),this.updateBanner(),this.updateThemeIcon()}updateBanner(){this.headerBanner&&(this.headerBanner.src="../assets/images/banner_final.png")}toggleTheme(){this.themeToggle.classList.add("theme-transitioning"),this.userPreferences.theme="light"===this.userPreferences.theme?"dark":"light",this.updateThemeIcon(),setTimeout(()=>{this.setupTheme(),this.saveUserPreferences(),setTimeout(()=>{this.themeToggle.classList.remove("theme-transitioning")},300)},50)}updateThemeIcon(){const e=this.themeToggle.querySelector(".theme-icon");e&&(e.style.transform="scale(0.9) rotate(90deg)",e.style.opacity="0.6",setTimeout(()=>{"light"===this.userPreferences.theme?e.innerHTML='\n          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">\n            <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/>\n          </svg>\n        ':e.innerHTML='\n          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">\n            <circle cx="12" cy="12" r="5"/>\n            <path d="M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"/>\n          </svg>\n        ',e.style.transform="scale(1) rotate(0deg)",e.style.opacity="1"},150))}updatePreview(){}initializeUpdateChecker(){try{this.updateChecker=new T(document.body)}catch(e){}}getFormData(){const e=new FormData(this.form);return{fileName:e.get("fileName")||"",project:e.get("project")||"",author:e.get("author")||"",creationDate:e.get("creationDate")||"",lastUpdated:e.get("lastUpdated")||"",version:e.get("version")||"",description:e.get("description")||"",dependencies:"",license:e.get("license")||"",status:e.get("status")||"",language:e.get("language")||"",usage:e.get("usage")||"",notes:e.get("notes")||"",todo:e.get("todo")||"",headerType:e.get("headerType")||"simple"}}async generateHeader(){if(this.currentLanguage)try{this.showLoading(!0);const e=this.getFormData(),t=d.ValidationUtils.validateHeaderData(e);if(!t.isValid)return void this.showValidationErrors(t.errors);this.copyBtn&&(this.copyBtn.removeAttribute("disabled"),this.copyBtn.classList.remove("disabled")),this.downloadBtn&&(this.downloadBtn.removeAttribute("disabled"),this.downloadBtn.classList.remove("disabled")),await this.copyToClipboard()}catch(e){this.showToast(B.UU.GENERIC_ERROR,"error")}finally{this.showLoading(!1)}else this.showToast("Please select a programming language","error")}async copyToClipboard(){if(this.currentLanguage){if(!this.isCopying){this.isCopying=!0;try{const e=this.getFormData(),t=o.templateEngine.generateHeader(e,this.currentLanguage);if(!t||0===t.trim().length)throw new Error("Generated header content is empty");await m.copyToClipboard(t),this.showToast(`Header copied to clipboard (${t.length} characters)`,"success")}catch(e){const t=e instanceof Error?e.message:String(e);this.showToast(`Failed to copy to clipboard: ${t}`,"error")}finally{this.isCopying=!1}}}else this.showToast("Please select a programming language","error")}downloadFile(){if(this.currentLanguage){if(!this.isDownloading){this.isDownloading=!0;try{const e=this.getFormData(),t=o.templateEngine.generateHeader(e,this.currentLanguage);let a=e.fileName||"header";a.includes(".")||(a=`${a}${this.currentLanguage.extension}`),v.saveFile(t,a),this.showToast(`File "${a}" downloaded successfully`,"success")}catch(e){this.showToast("Failed to download file","error")}finally{this.isDownloading=!1}}}else this.showToast("Please select a programming language","error")}clearForm(){this.showCustomConfirm("Are you sure you want to clear all form data?",()=>{this.form.reset();const e=document.getElementById("creationDate"),t=document.getElementById("lastUpdated");e.value=i.getCurrentDate(),t.value=i.getCurrentDate();const a=document.getElementById("language");a.value=this.userPreferences.defaultLanguage||B.LP.LANGUAGE,this.currentLanguage=(0,n.getLanguageById)(a.value)??null,this.copyBtn&&(this.copyBtn.setAttribute("disabled","disabled"),this.copyBtn.classList.add("disabled")),this.downloadBtn&&(this.downloadBtn.setAttribute("disabled","disabled"),this.downloadBtn.classList.add("disabled")),this.updatePreview(),this.saveFormData(),this.showToast("Form cleared successfully","success")})}openSettings(){this.showOptionsModal()}handleKeyboardShortcuts(e){if(e.ctrlKey||e.metaKey)switch(e.key){case"Enter":e.preventDefault(),this.generateHeader();break;case"c":e.shiftKey&&(e.preventDefault(),this.copyToClipboard());break;case"s":e.preventDefault(),this.downloadFile();break;case"n":e.preventDefault(),this.clearForm()}}showValidationErrors(e){document.querySelectorAll(".form-error").forEach(e=>{e.classList.remove("show")}),e.length>0&&e[0]&&this.showToast(e[0],"error")}showLoading(e){this.loadingOverlay.classList.toggle("hidden",!e)}showToast(e,t="info"){this.clearDuplicateToasts(e);const a=document.createElement("div");a.className=`toast ${t}`;const n=this.getToastIcon(t);a.innerHTML=`\n      <svg class="toast-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">\n        ${n}\n      </svg>\n      <div class="toast-content">\n        <p class="toast-message">${e}</p>\n      </div>\n      <button class="toast-close" onclick="this.parentElement.remove()">\n        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">\n          <line x1="18" y1="6" x2="6" y2="18"/>\n          <line x1="6" y1="6" x2="18" y2="18"/>\n        </svg>\n      </button>\n    `,this.toastContainer.appendChild(a),setTimeout(()=>{a.parentElement&&a.remove()},5e3)}clearDuplicateToasts(e){this.toastContainer.querySelectorAll(".toast").forEach(t=>{const a=t.querySelector(".toast-message");a&&a.textContent===e&&t.remove()})}showCustomConfirm(e,t){const a=document.getElementById("custom-confirm-modal"),n=document.querySelector(".custom-confirm-message"),o=document.getElementById("confirm-cancel"),i=document.getElementById("confirm-ok");if(!(a&&n&&o&&i))return;n.textContent=e,a.style.display="flex";const s=()=>{a.style.display="none",o.removeEventListener("click",s),i.removeEventListener("click",r)},r=()=>{a.style.display="none",t(),o.removeEventListener("click",s),i.removeEventListener("click",r)};o.addEventListener("click",s),i.addEventListener("click",r);const c=e=>{"Escape"===e.key&&(s(),document.removeEventListener("keydown",c))};document.addEventListener("keydown",c);const l=a.querySelector(".custom-confirm-overlay");if(l){const e=()=>{s(),l.removeEventListener("click",e)};l.addEventListener("click",e)}}getToastIcon(e){const t={success:'<path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><polyline points="22,4 12,14.01 9,11.01"/>',error:'<circle cx="12" cy="12" r="10"/><line x1="15" y1="9" x2="9" y2="15"/><line x1="9" y1="9" x2="15" y2="15"/>',warning:'<path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"/><line x1="12" y1="9" x2="12" y2="13"/><line x1="12" y1="17" x2="12.01" y2="17"/>',info:'<circle cx="12" cy="12" r="10"/><line x1="12" y1="16" x2="12" y2="12"/><line x1="12" y1="8" x2="12.01" y2="8"/>'};return t[e]||t.info}async loadUserPreferences(){try{if("undefined"!=typeof chrome&&chrome.storage&&chrome.storage.sync){const e=await chrome.storage.sync.get(B.d5.USER_PREFERENCES);e[B.d5.USER_PREFERENCES]&&(this.userPreferences={...this.userPreferences,...e[B.d5.USER_PREFERENCES]});const t=await chrome.storage.sync.get(["extensionSettings"]);t.extensionSettings?.autoDeactivateDuration&&(this.autoDeactivateDuration=t.extensionSettings.autoDeactivateDuration)}}catch(e){}}async saveUserPreferences(){try{"undefined"!=typeof chrome&&chrome.storage&&chrome.storage.sync&&await chrome.storage.sync.set({[B.d5.USER_PREFERENCES]:this.userPreferences})}catch(e){}}async loadLastFormData(){if(this.userPreferences.rememberLastValues)try{if("undefined"!=typeof chrome&&chrome.storage&&chrome.storage.local){const e=await chrome.storage.local.get(B.d5.LAST_HEADER_DATA);if(e[B.d5.LAST_HEADER_DATA]){const t=e[B.d5.LAST_HEADER_DATA];this.populateForm(t)}}}catch(e){}}async saveFormData(){if(this.userPreferences.rememberLastValues)try{if("undefined"!=typeof chrome&&chrome.storage&&chrome.storage.local){const e=this.getFormData();await chrome.storage.local.set({[B.d5.LAST_HEADER_DATA]:e})}}catch(e){}}populateForm(e){Object.entries(e).forEach(([e,t])=>{const a=document.getElementById(e);a&&t&&(a.value=t)}),e.language&&(this.currentLanguage=(0,n.getLanguageById)(e.language)??null)}getDefaultPreferences(){return{theme:window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",defaultLanguage:B.LP.LANGUAGE,defaultAuthor:B.LP.AUTHOR,defaultProject:B.LP.PROJECT,defaultLicense:B.LP.LICENSE,autoFillDates:!0,rememberLastValues:!0,exportFormat:B.LP.EXPORT_FORMAT,showPreview:!0,headerType:"simple"}}capitalizeFirst(e){return e.charAt(0).toUpperCase()+e.slice(1)}debounce(e,t){let a;return(...n)=>{clearTimeout(a),a=setTimeout(()=>e.apply(this,n),t)}}handleDevModeClick(){this.devModeClicks++,this.devModeClicks>=10?(this.isDevMode?this.deactivateDevMode():this.activateDevMode(),this.devModeClicks=0):1===this.devModeClicks&&setTimeout(()=>{this.devModeClicks=0},3e3)}activateDevMode(){this.isDevMode=!0,document.body.classList.add("dev-mode-active"),this.randomButton&&(this.randomButton.style.display="flex"),this.startAutoDeactivateTimer(),this.showToast("ðŸ”§ Dev Mode Activated! Random button is now available. Click the Ã— on the timer to exit early.","success")}deactivateDevMode(){this.isDevMode=!1,document.body.classList.remove("dev-mode-active"),this.randomButton&&(this.randomButton.style.display="none"),this.stopAutoDeactivateTimer(),this.showToast('ðŸ”§ Dev Mode Deactivated! Click 10 times on "Ready to generate" to reactivate.',"info")}startAutoDeactivateTimer(){this.autoDeactivateTimer&&clearTimeout(this.autoDeactivateTimer),this.countdownInterval&&clearInterval(this.countdownInterval),this.isAutoDeactivateActive=!0,this.showTimerDisplay();let e=this.autoDeactivateDuration;this.countdownInterval=setInterval(()=>{e-=1e3,this.updateTimerDisplay(e),e<=0&&(clearInterval(this.countdownInterval),this.countdownInterval=null)},1e3),this.autoDeactivateTimer=setTimeout(()=>{this.deactivateDevMode()},this.autoDeactivateDuration)}stopAutoDeactivateTimer(){this.autoDeactivateTimer&&(clearTimeout(this.autoDeactivateTimer),this.autoDeactivateTimer=null),this.countdownInterval&&(clearInterval(this.countdownInterval),this.countdownInterval=null),this.isAutoDeactivateActive=!1,this.hideTimerDisplay()}resetAutoDeactivateTimer(){this.isAutoDeactivateActive&&this.isDevMode&&this.startAutoDeactivateTimer()}showTimerDisplay(){this.timerDisplay&&(this.timerDisplay.style.display="flex")}hideTimerDisplay(){this.timerDisplay&&(this.timerDisplay.style.display="none")}updateTimerDisplay(e){if(this.timerText){const t=Math.floor(e/6e4),a=Math.floor(e%6e4/1e3);this.timerText.textContent=`${t}:${a.toString().padStart(2,"0")}`}}generateRandomData(){const e={fileName:this.getRandomFileName(),project:this.getRandomProjectName(),author:this.getRandomAuthor(),version:this.getRandomVersion(),description:this.getRandomDescription(),creationDate:this.getRandomDate(),lastUpdated:this.getRandomDate(),license:this.getRandomLicense(),status:this.getRandomStatus(),usage:this.getRandomUsage(),dependencies:this.getRandomDependencies(),notes:this.getRandomNotes(),todo:this.getRandomTodo()};Object.entries(e).forEach(([e,t])=>{const a=document.getElementById(e);a&&("checkbox"===a.type?a.checked=Boolean(t):(a.value=String(t||""),a.dispatchEvent(new Event("change",{bubbles:!0}))))});const t=Object.keys(n.languageConfigs),a=t[Math.floor(Math.random()*t.length)],o=document.getElementById("language");o&&a&&(o.value=a,this.currentLanguage=(0,n.getLanguageById)(a)??null,o.dispatchEvent(new Event("change",{bubbles:!0})));const i=document.getElementById("headerType");i&&(i.value=Math.random()>.5?"complete":"simple"),this.updatePreview(),this.saveFormData(),this.resetAutoDeactivateTimer(),this.showToast("ðŸŽ² Random data generated!","success")}getRandomFileName(){const e=[".js",".ts",".py",".java",".cpp",".html",".css",".php",".rb",".go"],t=["main","app","index","utils","helper","service","controller","model","view","config"];return`${t[Math.floor(Math.random()*t.length)]||"main"}${e[Math.floor(Math.random()*e.length)]||".js"}`}getRandomProjectName(){const e=["Awesome","Amazing","Incredible","Fantastic","Brilliant","Epic","Super","Ultimate","Pro","Advanced"],t=["Project","App","Tool","System","Framework","Library","Engine","Platform","Solution","Application"];return`${e[Math.floor(Math.random()*e.length)]||"Awesome"} ${t[Math.floor(Math.random()*t.length)]||"Project"} ${Math.floor(1e3*Math.random())}`}getRandomAuthor(){const e=["Alex","Jordan","Casey","Taylor","Morgan","Riley","Avery","Quinn","Sage","River"],t=["Smith","Johnson","Williams","Brown","Jones","Garcia","Miller","Davis","Rodriguez","Martinez"];return`${e[Math.floor(Math.random()*e.length)]||"John"} ${t[Math.floor(Math.random()*t.length)]||"Doe"}`}getRandomVersion(){return`${Math.floor(5*Math.random())+1}.${Math.floor(20*Math.random())}.${Math.floor(100*Math.random())}`}getRandomDescription(){const e=["A powerful and efficient solution for modern development","An innovative tool that revolutionizes the way we work","A comprehensive system designed for optimal performance","A cutting-edge application with advanced features","A robust framework built for scalability and reliability","A user-friendly interface with intuitive design","A high-performance engine optimized for speed","A flexible platform that adapts to your needs"];return e[Math.floor(Math.random()*e.length)]||"A powerful and efficient solution for modern development"}getRandomDate(){const e=new Date(2020,0,1),t=new Date;return new Date(e.getTime()+Math.random()*(t.getTime()-e.getTime())).toISOString().split("T")[0]}getRandomLicense(){const e=["MIT","GPL-3.0","Apache-2.0","BSD-3-Clause","ISC","Unlicense","Custom"];return e[Math.floor(Math.random()*e.length)]||"MIT"}getRandomStatus(){const e=["Development","Stable","Beta","Deprecated"];return e[Math.floor(Math.random()*e.length)]||"Development"}getRandomUsage(){const e=["npm install && npm start","python main.py","java -jar app.jar","g++ -o app main.cpp && ./app","node index.js","docker run -p 3000:3000 app","git clone && cd project && make install"];return e[Math.floor(Math.random()*e.length)]||"npm install && npm start"}getRandomDependencies(){const e=["react, express, mongoose","vue, axios, lodash","angular, rxjs, typescript","jquery, bootstrap, moment","lodash, moment, axios","express, cors, helmet","react-router, redux, styled-components"];return e[Math.floor(Math.random()*e.length)]||"react, express, mongoose"}getRandomNotes(){const e=["This is a development version with experimental features","Performance optimized for large datasets","Includes comprehensive error handling","Built with modern best practices","Fully documented with JSDoc comments","Tested on multiple browsers and devices","Follows semantic versioning guidelines"];return e[Math.floor(Math.random()*e.length)]||"This is a development version with experimental features"}getRandomTodo(){const e=["Add unit tests for all functions","Implement error logging system","Optimize database queries","Add user authentication","Create API documentation","Implement caching mechanism","Add internationalization support","Refactor legacy code","Add performance monitoring","Implement CI/CD pipeline"];return e[Math.floor(Math.random()*e.length)]||"Add unit tests for all functions"}showOptionsModal(){this.optionsModal&&(this.loadOptionsData(),this.optionsModal.style.display="flex",document.body.style.overflow="hidden")}closeOptionsModal(){this.optionsModal&&(this.optionsModal.style.display="none",document.body.style.overflow="")}switchOptionsTab(e){this.optionsNavBtns.forEach(e=>{e.classList.remove("active")});const t=document.querySelector(`[data-tab="${e}"]`);t&&t.classList.add("active"),this.optionsTabs.forEach(e=>{e.classList.remove("active")});const a=document.getElementById(`${e}-tab`);a&&a.classList.add("active")}loadOptionsData(){["defaultLanguage","defaultAuthor","defaultProject","defaultLicense","autoFillDates","rememberLastValues","showPreview","enableAnalytics","enableBetaFeatures"].forEach(e=>{const t=document.getElementById(e);t&&("checkbox"===t.type?t.checked=this.userPreferences[e]:(t.tagName,t.value=this.userPreferences[e]))});document.querySelectorAll('input[name="theme"]').forEach(e=>{e.checked=e.value===this.userPreferences.theme})}async saveOptions(){try{const e=this.getOptionsFormData();this.userPreferences={...this.userPreferences,...e},await this.saveUserPreferences(),this.setupTheme(),this.closeOptionsModal(),this.showToast("Settings saved successfully","success")}catch(e){this.showToast("Failed to save settings","error")}}getOptionsFormData(){return{theme:document.querySelector('input[name="theme"]:checked')?.value||"light",defaultLanguage:document.getElementById("defaultLanguage")?.value||B.LP.LANGUAGE,defaultAuthor:document.getElementById("defaultAuthor")?.value||B.LP.AUTHOR,defaultProject:document.getElementById("defaultProject")?.value||B.LP.PROJECT,defaultLicense:document.getElementById("defaultLicense")?.value||B.LP.LICENSE,autoFillDates:document.getElementById("autoFillDates")?.checked||!0,rememberLastValues:document.getElementById("rememberLastValues")?.checked||!0,showPreview:document.getElementById("showPreview")?.checked||!0,enableAnalytics:document.getElementById("enableAnalytics")?.checked||!1,enableBetaFeatures:document.getElementById("enableBetaFeatures")?.checked||!1}}async exportSettings(){try{const e={version:"1.0.0",timestamp:(new Date).toISOString(),preferences:this.userPreferences},t=new Blob([JSON.stringify(e,null,2)],{type:"application/json"}),a=URL.createObjectURL(t),n=document.createElement("a");n.href=a,n.download=`headforge-settings-${(new Date).toISOString().split("T")[0]}.json`,n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(a),this.showToast("Settings exported successfully","success")}catch(e){this.showToast("Failed to export settings","error")}}importSettings(){this.importFileInput.click()}async handleImportFile(e){const t=e.target,a=t.files?.[0];if(a)try{const e=await a.text(),t=JSON.parse(e);if(!t.preferences)throw new Error("Invalid settings file format");const n=this.validateImportedSettings(t.preferences);this.userPreferences={...this.userPreferences,...n},this.loadOptionsData(),this.showToast("Settings imported successfully","success")}catch(e){this.showToast("Failed to import settings. Please check the file format.","error")}finally{t.value=""}}validateImportedSettings(e){const t={};return"string"==typeof e.theme&&["light","dark"].includes(e.theme)&&(t.theme=e.theme),"string"==typeof e.defaultLanguage&&(t.defaultLanguage=e.defaultLanguage),"string"==typeof e.defaultAuthor&&(t.defaultAuthor=e.defaultAuthor),"string"==typeof e.defaultProject&&(t.defaultProject=e.defaultProject),"string"==typeof e.defaultLicense&&(t.defaultLicense=e.defaultLicense),"boolean"==typeof e.autoFillDates&&(t.autoFillDates=e.autoFillDates),"boolean"==typeof e.rememberLastValues&&(t.rememberLastValues=e.rememberLastValues),"boolean"==typeof e.showPreview&&(t.showPreview=e.showPreview),"boolean"==typeof e.enableAnalytics&&(t.enableAnalytics=e.enableAnalytics),"boolean"==typeof e.enableBetaFeatures&&(t.enableBetaFeatures=e.enableBetaFeatures),t}async resetSettings(){this.showCustomConfirm("Are you sure you want to reset all settings to their default values? This action cannot be undone.",()=>{try{this.userPreferences=this.getDefaultPreferences(),this.loadOptionsData(),this.showToast("Settings reset to defaults","success")}catch(e){this.showToast("Failed to reset settings","error")}})}destroy(){this.updateChecker&&(this.updateChecker.destroy(),this.updateChecker=null)}}document.addEventListener("DOMContentLoaded",()=>{new D})}},a={};function n(e){var o=a[e];if(void 0!==o)return o.exports;var i=a[e]={exports:{}};return t[e](i,i.exports,n),i.exports}n.m=t,e=[],n.O=(t,a,o,i)=>{if(!a){var s=1/0;for(d=0;d<e.length;d++){for(var[a,o,i]=e[d],r=!0,c=0;c<a.length;c++)(!1&i||s>=i)&&Object.keys(n.O).every(e=>n.O[e](a[c]))?a.splice(c--,1):(r=!1,i<s&&(s=i));if(r){e.splice(d--,1);var l=o();void 0!==l&&(t=l)}}return t}i=i||0;for(var d=e.length;d>0&&e[d-1][2]>i;d--)e[d]=e[d-1];e[d]=[a,o,i]},n.d=(e,t)=>{for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={887:0};n.O.j=t=>0===e[t];var t=(t,a)=>{var o,i,[s,r,c]=a,l=0;if(s.some(t=>0!==e[t])){for(o in r)n.o(r,o)&&(n.m[o]=r[o]);if(c)var d=c(n)}for(t&&t(a);l<s.length;l++)i=s[l],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return n.O(d)},a=self.webpackChunkheadforge=self.webpackChunkheadforge||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})();var o=n.O(void 0,[76],()=>n(149));o=n.O(o)})();
//# sourceMappingURL=popup.js.map